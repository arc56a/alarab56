<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحة آلُــــعـــرآبـــ</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Define the 'Inter' font, fallback to sans-serif if not available */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            /* Ensure the body takes full viewport height for video background */
            min-height: 100vh;
            display: flex; /* Use flexbox to center content */
            justify-content: center; /* Center horizontally */
            align-items: center; /* Center vertically */
            overflow: hidden; /* Hide overflow to prevent scrollbars from video */
        }
        /* Custom styles for the video background */
        .video-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover; /* Ensures the video covers the entire area */
            z-index: -1; /* Puts the video behind other content */
        }
        /* Custom styles for the profile content container */
        .profile-content-container {
            z-index: 1; /* Puts content above the video */
            text-align: center; /* Center text and inline elements */
            background-color: rgba(0, 0, 0, 0.4); /* Semi-transparent background for readability */
            padding: 1.5rem; /* Adjusted padding for smaller card */
            border-radius: 1.5rem; /* Rounded corners for the container */
            display: flex;
            flex-direction: column;
            align-items: center; /* Center items within the column */
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5); /* Slightly adjusted shadow */
        }
        /* Base size for profile image and text, suitable for mobile-first approach */
        .profile-image {
            width: 8rem; /* Adjusted for better mobile sizing */
            height: 8rem;
        }
        .profile-text {
            font-size: 2.25rem; /* Adjusted for better mobile sizing (text-4xl equivalent) */
            color: #ef4444; /* Tailwind red-500 equivalent for the name text color */
            /* "Bat effect": subtle dark shadow to give a dramatic look */
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7), -2px -2px 4px rgba(0, 0, 0, 0.7);
            margin-bottom: 0.5rem; /* Small margin to separate from username */
            /* New: Pulsating glow animation */
            animation: textGlow 2s infinite alternate;
        }

        /* Keyframes for the pulsating text glow animation */
        @keyframes textGlow {
            0% {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7), -2px -2px 4px rgba(0, 0, 0, 0.7), 0 0 5px #ef4444;
            }
            100% {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7), -2px -2px 4px rgba(0, 0, 0, 0.7), 0 0 20px #ef4444, 0 0 30px #ef4444;
            }
        }

        /* Username color change animation */
        @keyframes usernameColorCycle {
            0% { color: #ffffff; } /* White */
            16.67% { color: #ff0000; } /* Red */
            33.33% { color: #00ff00; } /* Green */
            50% { color: #0000ff; } /* Blue */
            66.67% { color: #ffd700; } /* Gold */
            83.33% { color: #800080; } /* Purple */
            100% { color: #ffffff; } /* White, for seamless loop */
        }
        .username-link {
            font-size: 1rem; /* Base size for username (text-base) */
            color: #ffffff; /* Default color */
            text-decoration: none; /* No underline */
            margin-top: 0; /* No top margin as profile-text already has bottom margin */
            margin-bottom: 1.5rem; /* Margin to separate from phrase section */
            animation: usernameColorCycle 5s infinite alternate; /* Changed to 5 seconds */
        }
        .username-link:hover {
            text-decoration: underline; /* Underline on hover */
        }
        /* Style for the phrase section container */
        .phrase-section-container {
            text-align: center;
            background-color: rgba(0, 0, 0, 0.4);
            padding: 1.5rem 1rem; /* Vertical and horizontal padding */
            border-radius: 1.5rem;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
            margin-top: 2rem; /* Space between profile card and phrase section */
            z-index: 1; /* Ensure it's above the video */
        }

        /* Custom style for the smaller change phrase button */
        .change-phrase-button-small {
            padding: 0.5rem 1.25rem; /* Smaller padding: py-2 px-5 -> py-1.5 px-4 equivalent (approx) */
            font-size: 0.875rem; /* text-sm equivalent */
        }


        /* Style for the viewer count text */
        .viewer-count-text {
            font-size: 1.5rem; /* Increased size for better visibility */
            color: #f3f4f6; /* gray-100 */
            margin-top: 2rem; /* Space between phrase section and viewer count */
            z-index: 1; /* Ensure it's above the video */
            display: flex; /* Use flexbox to align icon and text */
            align-items: center; /* Vertically center icon and text */
            justify-content: center; /* Horizontally center icon and text */
            gap: 0.5rem; /* Space between the eye icon and the number */
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); /* Subtle shadow for readability */
        }

        /* Adjustments for smaller screens (e.g., very small phones) */
        @media (max-width: 480px) { /* Changed breakpoint for finer mobile control */
            .profile-content-container {
                padding: 1rem; /* Even less padding on very small screens */
            }
            .profile-image {
                width: 6rem; /* Smaller image on very small mobile */
                height: 6rem;
            }
            .profile-text {
                font-size: 1.5rem; /* Smaller text on very small mobile (text-2xl equivalent) */
            }
            .username-link {
                font-size: 0.875rem; /* Smaller text on very small mobile (text-sm equivalent) */
                margin-bottom: 1rem; /* Reduced margin for smaller screens */
            }
            /* Adjust phrase size for very small screens */
            #dynamic-phrase {
                font-size: 0.875rem; /* text-sm */
            }
            .phrase-section-container {
                padding: 1rem 0.75rem;
                margin-top: 1.5rem; /* Reduce margin for smaller screens */
            }
            .viewer-count-text {
                font-size: 1.25rem; /* Smaller text on very small mobile */
                margin-top: 1.5rem;
            }
            .change-phrase-button-small {
                padding: 0.4rem 1rem; /* Even smaller for very small screens */
                font-size: 0.75rem; /* text-xs equivalent */
            }
        }

        /* Settings button specific styles */
        .settings-button {
            position: absolute;
            top: 1rem; /* Adjust as needed for spacing from top */
            right: 1rem; /* Adjust as needed for spacing from right */
            z-index: 10; /* Ensure it's on top of everything */
            background-color: rgba(0, 0, 0, 0.6);
            color: white;
            padding: 0.75rem;
            border-radius: 0.75rem; /* Rounded corners */
            cursor: pointer;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .settings-button:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }

        /* Dropdown menu specific styles */
        .settings-dropdown {
            position: absolute;
            top: 4.5rem; /* Position below the button, adjust based on button size */
            right: 1rem; /* Align with the button */
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 0.75rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            z-index: 9; /* Slightly lower than button but still on top */
            min-width: 150px; /* Minimum width for readability */
            overflow: hidden; /* Ensures rounded corners apply to content */
        }
        .settings-dropdown ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .settings-dropdown li {
            padding: 0.75rem 1rem;
            color: white;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .settings-dropdown li:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        .settings-dropdown li:not(:last-child) {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* Separator between items */
        }

        /* Splash screen styles */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* Modern gradient background */
            background: radial-gradient(circle at center, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.98) 70%, rgba(0, 0, 0, 1) 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 50; /* Ensure it's on top */
            transition: opacity 0.7s ease-out; /* Smooth transition */
        }
        .splash-screen.hidden {
            opacity: 0;
            pointer-events: none; /* Disable interaction when hidden */
        }

        /* Animation for splash screen text */
        @keyframes splashTextFadeGlow {
            0% {
                color: rgba(255, 255, 255, 0.6); /* White with transparency */
                text-shadow: 0 0 3px rgba(255, 255, 255, 0.3), 0 0 6px rgba(255, 255, 255, 0.2); /* Smaller glow */
                transform: scale(0.99); /* Slightly less aggressive pulse */
                opacity: 0.8;
            }
            50% {
                color: rgba(255, 255, 255, 1); /* Full opaque white */
                text-shadow: 0 0 8px rgba(255, 255, 255, 0.7), 0 0 12px rgba(255, 255, 255, 0.4), 0 0 18px rgba(255, 255, 255, 0.2); /* More pronounced glow */
                transform: scale(1.01);
                opacity: 1;
            }
            100% {
                color: rgba(255, 255, 255, 0.6);
                text-shadow: 0 0 3px rgba(255, 255, 255, 0.3), 0 0 6px rgba(255, 255, 255, 0.2);
                transform: scale(0.99);
                opacity: 0.8;
            }
        }
        .splash-text {
            /* Adjusted font size for splash text */
            font-size: 1rem; /* Smaller for mobile (approximately 1/3 of previous 2.5rem) */
            line-height: 1.2;
            animation: splashTextFadeGlow 3s infinite alternate; /* Slower, more elegant pulse with fade */
            font-weight: 700; /* Make it bolder */
            letter-spacing: 0.05em; /* Add slight letter spacing */
            text-transform: uppercase; /* Optional: Make it uppercase */
            text-align: center; /* Ensure text is centered */
            max-width: 90%; /* Prevent text from being too wide on small screens */
        }
        @media (min-width: 768px) { /* Adjust for larger screens */
            .splash-text {
                font-size: 1.5rem; /* Smaller for desktop (approximately 1/3 of previous 4rem) */
            }
        }

        /* Ensure the body blurs when splash screen is active */
        body.splash-active .video-background {
            filter: blur(5px);
            transition: filter 0.7s ease-out;
        }
    </style>
</head>
<body class="bg-gray-900 text-white splash-active">

    <!-- Splash Screen -->
    <div id="splash-screen" class="splash-screen">
        <p class="font-bold mb-8 splash-text">مرحباً بك في صفحة آلُــــعـــرآبـــ</p>
        <button id="enter-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-75">
            الدخول إلى الصفحة
        </button>
    </div>

    <!-- Video Background -->
    <video id="background-video" autoplay loop muted playsinline class="video-background">
        <source src="https://j.top4top.io/m_3450lreic0.mp4" type="video/mp4">
        متصفحك لا يدعم تشغيل الفيديو.
        <!-- Fallback message if video cannot be played -->
    </video>

    <!-- Settings Button -->
    <button id="settings-btn" class="settings-button hidden"> <!-- Hidden initially -->
        <!-- SVG for a gear icon (settings) -->
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings">
            <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.78 1.22a2 2 0 0 0 .73 2.73l.09.09a2 2 0 0 1 0 2.83l-.09.09a2 2 0 0 0-.73 2.73l.78 1.22a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.78-1.22a2 2 0 0 0-.73-2.73l-.09-.09a2 2 0 0 1 0-2.83l.09-.09a2 2 0 0 0 .73-2.73l-.78-1.22a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/>
            <circle cx="12" cy="12" r="3"/>
        </svg>
    </button>

    <!-- Settings Dropdown Menu -->
    <div id="settings-dropdown" class="settings-dropdown hidden">
        <ul>
            <li id="change-background-btn">تغيير الخلفية</li>
            <li id="toggle-music-btn">إيقاف الموسيقى</li>
            <li id="toggle-content-btn">الشاشة الخالية</li>
            <li id="toggle-profile-btn">إخفاء البروفايل</li>
            <li id="toggle-phrases-btn">إخفاء العبارات</li>
            <li id="toggle-viewers-btn">إخفاء المشاهدات</li>
            <li id="photography-mode-btn">وضع التصوير</li> <!-- New feature: Photography Mode -->
        </ul>
    </div>

    <!-- Main Content Wrapper (centered by body's flexbox) -->
    <div id="main-content-wrapper" class="flex flex-col items-center justify-center p-4 w-full h-full hidden"> <!-- Hidden initially -->

        <!-- Profile Card Content -->
        <div id="profile-card" class="profile-content-container max-w-sm">
            <!-- Profile Image -->
            <img
                src="https://l.top4top.io/p_345086ryb0.jpg"
                alt="صورة الملف الشخصي"
                class="profile-image rounded-full border-4 border-red-700 shadow-lg object-cover mb-6"
                onerror="this.onerror=null;this.src='https://placehold.co/128x128/000000/FFFFFF?text=خطأ';"
            />

            <!-- Profile Name Text -->
            <p class="profile-text font-bold tracking-wide leading-tight">
                آلُــــعـــرآبـــ ⁵⁶
            </p>

            <!-- Instagram Username Link -->
            <a
                href="https://www.instagram.com/ar_c56?igsh=cWpudDJueTNqNjRj"
                target="_blank"
                rel="noopener noreferrer"
                class="username-link"
            >
                @ar_c56
            </a>
        </div>

        <!-- Dynamic Phrase and Button Container -->
        <div id="phrase-card" class="phrase-section-container flex flex-col items-center max-w-sm mx-auto">
            <!-- Dynamic Phrase -->
            <p id="dynamic-phrase" class="text-xl md:text-2xl text-gray-200 text-center mb-6">
                <!-- Initial phrase will be set by JavaScript -->
            </p>
            <!-- Change Phrase Button -->
            <button id="change-phrase-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-5 rounded-full shadow-md transition duration-300 transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-75 change-phrase-button-small">
                تغيير العبارة
            </button>
        </div>

        <!-- Viewer Count Section -->
        <p id="viewer-count-text" class="viewer-count-text font-medium">
            <!-- Eye icon SVG -->
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye">
                <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/>
                <circle cx="12" cy="12" r="3"/>
            </svg>
            <span id="viewer-number">5670</span> <!-- Span for the number itself -->
        </p>
    </div>

    <!-- Background Music -->
    <audio id="background-music" loop> <!-- Removed autoplay from here, will play on button click -->
        <source src="https://k.top4top.io/m_3451qxti51.mp3" type="audio/mpeg">
        متصفحك لا يدعم تشغيل الصوت.
    </audio>

    <!-- JavaScript for dynamic phrase change and settings -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Elements References ---
            const splashScreen = document.getElementById('splash-screen');
            const enterBtn = document.getElementById('enter-btn');
            const dynamicPhraseElement = document.getElementById('dynamic-phrase');
            const changePhraseButton = document.getElementById('change-phrase-btn');
            const audio = document.getElementById('background-music');
            const settingsBtn = document.getElementById('settings-btn');
            const settingsDropdown = document.getElementById('settings-dropdown');
            const toggleMusicBtn = document.getElementById('toggle-music-btn');
            const toggleContentBtn = document.getElementById('toggle-content-btn');
            const mainContentWrapper = document.getElementById('main-content-wrapper');
            const viewerCountText = document.getElementById('viewer-count-text');
            const viewerNumberSpan = document.getElementById('viewer-number');
            const backgroundVideo = document.getElementById('background-video');

            // New element references for individual toggles
            const profileCard = document.getElementById('profile-card');
            const phraseCard = document.getElementById('phrase-card');
            const toggleProfileBtn = document.getElementById('toggle-profile-btn');
            const togglePhrasesBtn = document.getElementById('toggle-phrases-btn');
            const toggleViewersBtn = document.getElementById('toggle-viewers-btn');
            const changeBackgroundBtn = document.getElementById('change-background-btn');
            const photographyModeBtn = document.getElementById('photography-mode-btn'); // Reference for new button

            // --- Phrases Array ---
            const phrases = [
                "نگدر نواسي الكل إلا نفسنة",
                "لا تطفئ نورك لإرضاء عتمتهم",
                "أنا اهرب من هروبي أين النهايه؟",
                "عشان توصل الي أنت عايزة لازم تتحمل الي أنت مش عايزة",
                "خالط ولا تذوب",
                "تساقط مني الرفاق والأيام والأحلام وأنا",
                "يؤلمني شيء لا أعرفه ربما وداع قديم لم أبكيه"
            ];
            let currentPhraseIndex = 0;
            let isContentVisible = true;
            let isProfileVisible = true;
            let isPhrasesVisible = true;
            let isViewersVisible = true;

            // --- Background Videos Array ---
            const backgroundVideos = [
                "https://j.top4top.io/m_3450lreic0.mp4", // Original
                "https://f.top4top.io/m_34516072o0.mp4",
                "https://g.top4top.io/m_3451agi751.mp4",
                "https://h.top4top.io/m_3451zzy5o2.mp4",
                "https://e.top4top.io/m_3451pcjzn0.mp4",
                "https://f.top4top.io/m_34510i14s1.mp4",
                "https://j.top4top.io/m_34517zw6x4.mp4"
            ];
            let currentVideoIndex = 0;

            // --- Viewer Count Logic ---
            const VIEWER_COUNT_KEY = 'viewerCount';
            const LAST_UPDATE_TIME_KEY = 'lastViewerUpdateTime'; // Key for storing last update timestamp
            const INITIAL_VIEWER_COUNT = 5670;
            const UPDATE_INTERVAL_MS = 6 * 60 * 60 * 1000; // 6 hours in milliseconds
            let currentViewerCount;

            // Initialize viewer count (reads from localStorage or sets initial)
            function initializeViewerCount() {
                const savedCount = localStorage.getItem(VIEWER_COUNT_KEY);
                const lastUpdateTime = localStorage.getItem(LAST_UPDATE_TIME_KEY);
                const currentTime = new Date().getTime();

                currentViewerCount = savedCount ? parseInt(savedCount, 10) : INITIAL_VIEWER_COUNT;

                if (lastUpdateTime) {
                    const timeDifference = currentTime - parseInt(lastUpdateTime, 10);
                    if (timeDifference >= UPDATE_INTERVAL_MS) {
                        // If 6 hours or more have passed, increment and update timestamp
                        currentViewerCount += 100;
                        localStorage.setItem(LAST_UPDATE_TIME_KEY, currentTime.toString());
                    }
                } else {
                    // First visit or cleared storage, set initial time
                    localStorage.setItem(LAST_UPDATE_TIME_KEY, currentTime.toString());
                }
                saveViewerCount(); // Ensure the potentially updated count is saved
                updateViewerCountDisplay();
            }

            // Save viewer count to local storage
            function saveViewerCount() {
                localStorage.setItem(VIEWER_COUNT_KEY, currentViewerCount);
            }

            // Update the displayed viewer count
            function updateViewerCountDisplay() {
                viewerNumberSpan.textContent = currentViewerCount.toLocaleString('ar-EG');
            }

            // --- Functions ---
            function updatePhrase() {
                dynamicPhraseElement.textContent = phrases[currentPhraseIndex];
            }

            function changeBackgroundVideo() {
                currentVideoIndex = (currentVideoIndex + 1) % backgroundVideos.length;
                backgroundVideo.src = backgroundVideos[currentVideoIndex];
                backgroundVideo.load();
                backgroundVideo.play().catch(e => console.error("Video play failed after source change:", e));
                settingsDropdown.classList.add('hidden');
            }

            function toggleSettingsDropdown() {
                settingsDropdown.classList.toggle('hidden');
            }

            function toggleMusic() {
                if (audio.paused) {
                    audio.play().catch(e => console.error("Audio play failed:", e));
                    toggleMusicBtn.textContent = 'إيقاف الموسيقى';
                } else {
                    audio.pause();
                    toggleMusicBtn.textContent = 'تشغيل الموسيقى';
                }
                settingsDropdown.classList.add('hidden');
            }

            function toggleContent() {
                if (isContentVisible) {
                    mainContentWrapper.classList.add('hidden');
                    document.body.classList.remove('splash-active'); // Ensure blur is removed
                    toggleContentBtn.textContent = 'إظهار المحتوى';
                    isContentVisible = false;
                } else {
                    mainContentWrapper.classList.remove('hidden');
                    document.body.classList.remove('splash-active'); // Ensure blur is removed
                    // Ensure all individual components are also visible when main wrapper is shown
                    profileCard.classList.remove('hidden');
                    phraseCard.classList.remove('hidden');
                    viewerCountText.classList.remove('hidden');

                    // Reset individual states to visible and update button texts
                    isProfileVisible = true;
                    isPhrasesVisible = true;
                    isViewersVisible = true;
                    toggleProfileBtn.textContent = 'إخفاء البروفايل';
                    togglePhrasesBtn.textContent = 'إخفاء العبارات';
                    toggleViewersBtn.textContent = 'إخفاء المشاهدات';

                    toggleContentBtn.textContent = 'الشاشة الخالية';
                    isContentVisible = true;
                }
                settingsDropdown.classList.add('hidden');
            }

            function toggleProfile() {
                if (isContentVisible) {
                    profileCard.classList.toggle('hidden');
                    isProfileVisible = !isProfileVisible;
                    toggleProfileBtn.textContent = isProfileVisible ? 'إخفاء البروفايل' : 'إظهار البروفايل';
                }
                settingsDropdown.classList.add('hidden');
            }

            function togglePhrases() {
                if (isContentVisible) {
                    phraseCard.classList.toggle('hidden');
                    isPhrasesVisible = !isPhrasesVisible;
                    togglePhrasesBtn.textContent = isPhrasesVisible ? 'إخفاء العبارات' : 'إظهار العبارات';
                }
                settingsDropdown.classList.add('hidden');
            }

            function toggleViewers() {
                if (isContentVisible) {
                    viewerCountText.classList.toggle('hidden');
                    isViewersVisible = !isViewersVisible;
                    toggleViewersBtn.textContent = isViewersVisible ? 'إخفاء المشاهدات' : 'إظهار المشاهدات';
                }
                settingsDropdown.classList.add('hidden');
            }

            function redirectToPhotographyMode() {
                window.location.href = 'https://arc56a.github.io/comuser/';
                settingsDropdown.classList.add('hidden'); // Close dropdown after redirect
            }

            // --- Event Listeners ---
            // Initialize viewer count and check for time-based increment
            initializeViewerCount();

            // Handle 'Enter' button click on splash screen
            enterBtn.addEventListener('click', function() {
                splashScreen.classList.add('hidden'); // Hide splash screen
                mainContentWrapper.classList.remove('hidden'); // Show main content
                settingsBtn.classList.remove('hidden'); // Show settings button
                document.body.classList.remove('splash-active'); // Remove blur from body

                // Play music on user interaction
                audio.play().catch(e => console.error("Audio play failed on enter:", e));

                // Increment viewer count for this specific visit (once per session after splash)
                // This is separate from the 6-hour increment
                currentViewerCount++;
                saveViewerCount();
                updateViewerCountDisplay();

                updatePhrase(); // Set initial phrase after content is visible
            });

            // Change phrase button click
            changePhraseButton.addEventListener('click', function() {
                currentPhraseIndex = (currentPhraseIndex + 1) % phrases.length;
                updatePhrase();
            });

            // Settings button click to open/close dropdown
            settingsBtn.addEventListener('click', toggleSettingsDropdown);

            // Music toggle button click
            toggleMusicBtn.addEventListener('click', toggleMusic);

            // Content toggle button click (for 'الشاشة الخالية')
            toggleContentBtn.addEventListener('click', toggleContent);

            // New individual toggle button clicks
            toggleProfileBtn.addEventListener('click', toggleProfile);
            togglePhrasesBtn.addEventListener('click', togglePhrases);
            toggleViewersBtn.addEventListener('click', toggleViewers);

            // New background change button click
            changeBackgroundBtn.addEventListener('click', changeBackgroundVideo);

            // New: Photography Mode button click
            photographyModeBtn.addEventListener('click', redirectToPhotographyMode);

            // Close dropdown if clicked outside
            document.addEventListener('click', function(event) {
                if (!settingsBtn.contains(event.target) && !settingsDropdown.contains(event.target)) {
                    settingsDropdown.classList.add('hidden');
                }
            });
        });
    </script>

</body>
</html>
